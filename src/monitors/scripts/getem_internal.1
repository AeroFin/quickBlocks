GOLD=$HOME/src.GitHub/quickBlocks/test/gold
OLD_GOLD=$HOME/src.GitHub.1/quickBlocks/test/gold

filename=$3$2-$1
USEBLOOM=true acctExport --fmt txt --filter $1 | tee $GOLD/monitors/txt/$filename.txt

echo $1 | sed 's/0x//' >y
cat y | sed 's/^/s\/0x\//' | sed 's/$/\//' >z

colorEcho -t "Diffing for in new gold, not in old gold: $filename"
diff --suppress-common-lines -y $GOLD/monitors/txt/$filename.txt $OLD_GOLD/monitors/txt/$filename.txt  | grep "<" | cut -c1-20 >crap
cat crap | cut -f1,2 | sed 's/$/ 0x/' | sed -f z | sed 's/^/getem_internal.2 /' >x ; chmod uog+x x ; ./x | tee $1_new_not_old.txt

colorEcho -t "Diffing for in old gold, not in new gold: $filename"
diff --suppress-common-lines -y $GOLD/monitors/txt/$filename.txt $OLD_GOLD/monitors/txt/$filename.txt  | grep ">" | cut -c15-100 >crap
cat crap | cut -f2,3 | sed 's/$/ 0x/' | sed -f z | sed 's/^/getem_internal.2 /' >x ; chmod uog+x x ; ./x | tee $1_old_not_new.txt

colorEcho -t "Diffing for changes: $filename"
diff --suppress-common-lines -y $GOLD/monitors/txt/$filename.txt $OLD_GOLD/monitors/txt/$filename.txt  | grep "|" | tee $1_changed.txt

nano $1_new_not_old.txt
nano $1_old_not_new.txt
nano $1_changed.txt

sleep 1
rm -f crap w x y z
rm -f $1*.txt
